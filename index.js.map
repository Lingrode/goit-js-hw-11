{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/icon-error.svg","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_KEY = '46849389-2041d53e6d8b95dbaa186e245';\n\nconst fetchImages = query => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: `${query}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error('Oooops!');\n      }\n      return res.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      return data.hits;\n    });\n};\n\nexport default fetchImages;\n","const createMarkup = arr => {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n      <div class=\"gallery-counters\">\n        <p>Likes<span>${likes}</span></p>\n        <p>Views<span>${views}</span></p>\n        <p>Comments<span>${comments}</span></p>\n        <p>Downloads<span>${downloads}</span></p>\n      </div>\n    </li>\n  `\n    )\n    .join('');\n};\n\nexport default createMarkup;\n","export default \"data:image/svg+xml,%3csvg%20width='24.000000'%20height='24.000000'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs/%3e%3cpath%20id='Vector'%20d='M6.81%200.21C6.95%200.07%207.14%206.1e-5%207.33%200L16.66%200C16.85%206.1e-5%2017.04%200.07%2017.18%200.21L23.78%206.81C23.92%206.95%2024%207.14%2024%207.33L24%2016.66C24%2016.85%2023.92%2017.04%2023.78%2017.19L17.18%2023.78C17.04%2023.92%2016.85%2023.99%2016.66%2024L7.33%2024C7.14%2023.99%206.95%2023.92%206.81%2023.78L0.21%2017.19C0.07%2017.04%200%2016.85%200%2016.66L0%207.33C0%207.14%200.07%206.95%200.21%206.81L6.81%200.21ZM7.65%201.5L1.5%207.65L1.5%2016.35L7.65%2022.5L16.35%2022.5L22.5%2016.35L22.5%207.65L16.35%201.5L7.65%201.5Z'%20fill='%23FAFAFB'%20fill-opacity='1.000000'%20fill-rule='nonzero'/%3e%3cpath%20id='Vector'%20d='M6.96%206.96C7.03%206.89%207.12%206.84%207.21%206.8C7.3%206.76%207.4%206.74%207.5%206.74C7.59%206.74%207.69%206.76%207.78%206.8C7.87%206.84%207.96%206.89%208.03%206.96L12%2010.93L15.96%206.96C16.03%206.89%2016.12%206.84%2016.21%206.8C16.3%206.76%2016.4%206.74%2016.5%206.74C16.59%206.74%2016.69%206.76%2016.78%206.8C16.87%206.84%2016.96%206.89%2017.03%206.96C17.1%207.03%2017.15%207.12%2017.19%207.21C17.23%207.3%2017.25%207.4%2017.25%207.5C17.25%207.59%2017.23%207.69%2017.19%207.78C17.15%207.87%2017.1%207.96%2017.03%208.03L13.06%2012L17.03%2015.96C17.1%2016.03%2017.15%2016.12%2017.19%2016.21C17.23%2016.3%2017.25%2016.4%2017.25%2016.5C17.25%2016.59%2017.23%2016.69%2017.19%2016.78C17.15%2016.87%2017.1%2016.96%2017.03%2017.03C16.96%2017.1%2016.87%2017.15%2016.78%2017.19C16.69%2017.23%2016.59%2017.25%2016.5%2017.25C16.4%2017.25%2016.3%2017.23%2016.21%2017.19C16.12%2017.15%2016.03%2017.1%2015.96%2017.03L12%2013.06L8.03%2017.03C7.96%2017.1%207.87%2017.15%207.78%2017.19C7.69%2017.23%207.59%2017.25%207.5%2017.25C7.4%2017.25%207.3%2017.23%207.21%2017.19C7.12%2017.15%207.03%2017.1%206.96%2017.03C6.89%2016.96%206.84%2016.87%206.8%2016.78C6.76%2016.69%206.74%2016.59%206.74%2016.5C6.74%2016.4%206.76%2016.3%206.8%2016.21C6.84%2016.12%206.89%2016.03%206.96%2015.96L10.93%2012L6.96%208.03C6.89%207.96%206.84%207.87%206.8%207.78C6.76%207.69%206.74%207.59%206.74%207.5C6.74%207.4%206.76%207.3%206.8%207.21C6.84%207.12%206.89%207.03%206.96%206.96Z'%20fill='%23FAFAFB'%20fill-opacity='1.000000'%20fill-rule='nonzero'/%3e%3c/svg%3e\"","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport fetchImages from './js/pixabay-api';\nimport createMarkup from './js/render-functions';\nimport iconError from './img/icon-error.svg';\n\nconst form = document.querySelector('.form');\nconst searchInput = form.querySelector('input[name=\"search\"]');\nconst imageList = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\n\niziToast.settings({\n  messageSize: 15,\n  messageColor: '#fff',\n  messageLineHeight: 20,\n  iconUrl: `${iconError}`,\n  position: 'topRight',\n  timeout: 7000,\n  closeOnClick: true,\n  maxWidth: 350,\n  backgroundColor: 'rgb(239, 64, 64)',\n});\n\nlet gallery = new SimpleLightbox('.gallery .gallery-link');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const searchValue = searchInput.value.trim();\n  if (!searchValue) {\n    iziToast.error({\n      message:\n        'Search field cannot be empty. Please enter a keyword to search.',\n    });\n\n    return;\n  }\n\n  imageList.innerHTML = '';\n  loader.style.display = 'block';\n\n  fetchImages(searchValue)\n    .then(data => {\n      const markup = createMarkup(data);\n      imageList.insertAdjacentHTML('beforeend', markup);\n      loader.style.display = 'none';\n      gallery.refresh();\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      console.error(error);\n    });\n\n  form.reset();\n}\n"],"names":["API_KEY","fetchImages","query","searchParams","res","data","iziToast","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","iconError","form","searchInput","imageList","loader","gallery","SimpleLightbox","handleSubmit","event","searchValue","markup","error"],"mappings":"6vBAGA,MAAMA,EAAU,qCAEVC,EAAcC,GAAS,CAC3B,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAG,GAAGE,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EACpD,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,SAAS,EAE3B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,IACAA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EAEID,EAAK,KACb,CACL,EC9BME,EAAeC,GACZA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,sCAE0BL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA,wBAEpEC,CAAK;AAAA,wBACLC,CAAK;AAAA,2BACFC,CAAQ;AAAA,4BACPC,CAAS;AAAA;AAAA;AAAA,GAIhC,EACA,KAAK,EAAE,ECvBGC,EAAA,61ECQTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAcD,EAAK,cAAc,sBAAsB,EACvDE,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAEvBd,EAAS,SAAS,CAChB,YAAa,GACb,aAAc,OACd,kBAAmB,GACnB,QAAS,GAAGU,CAAS,GACrB,SAAU,WACV,QAAS,IACT,aAAc,GACd,SAAU,IACV,gBAAiB,kBACnB,CAAC,EAED,IAAIK,EAAU,IAAIC,EAAe,wBAAwB,EAEzDL,EAAK,iBAAiB,SAAUM,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAcP,EAAY,MAAM,KAAI,EAC1C,GAAI,CAACO,EAAa,CAChBnB,EAAS,MAAM,CACb,QACE,iEACR,CAAK,EAED,MACD,CAEDa,EAAU,UAAY,GACtBC,EAAO,MAAM,QAAU,QAEvBnB,EAAYwB,CAAW,EACpB,KAAKpB,GAAQ,CACZ,MAAMqB,EAASnB,EAAaF,CAAI,EAChCc,EAAU,mBAAmB,YAAaO,CAAM,EAChDN,EAAO,MAAM,QAAU,OACvBC,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMM,GAAS,CACdP,EAAO,MAAM,QAAU,OACvB,QAAQ,MAAMO,CAAK,CACzB,CAAK,EAEHV,EAAK,MAAK,CACZ"}